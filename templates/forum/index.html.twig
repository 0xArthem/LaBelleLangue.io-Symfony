{% extends 'base.html.twig' %}

{% block title %}Hello ForumController!
{% endblock %}

{% block body %}
	<div class="encadrement">
		<h1 class="text-center">Forum</h1>

		<br>

		<div class="row row-cols-1 row-cols-md-1 g-4">
			{% for topic in topics %}
				<div class="col mb-4">
					<div class="card h-100">
						<div class="card-body">
							<a class="text-dark">
								<i class="fas fa-caret-right me-1"></i>
								{{ topic.article.title }}
							</a>

							<br><br>

							<h5 class="card-title">
								{{ topic.title }}
							</h5>

							<p class="card-text">
								Publi√© le
								{{ topic.createdAt|date('d/m/y')}}
							</p>

							<p class="card-text">
								{{ topic.message|striptags|length > 300 ? topic.message|striptags|slice(0, 300) ~ '...' : topic.message|striptags }}
							</p>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
